--[[
    luaide  模板位置位于 Template/FunTemplate/NewFileTemplate.lua 其中 Template 为配置路径 与luaide.luaTemplatesDir
    luaide.luaTemplatesDir 配置 https://www.showdoc.cc/web/#/luaide?page_id=713062580213505
    author:{author}
    time:2019-12-12 21:59:06
]]

function ApplyBtn(this)
    --@RefType [luaIde#CS.UnityEngine.GameObject]
    local go = this

    local btn = go:GetComponent(typeof(CS.UnityEngine.UI.Button))
    btn.onClick:AddListener(function()
        print("保存设置")
    end)
end

function ResetBtn(this)
    local btn = this:GetComponent(typeof(CS.UnityEngine.UI.Button))
    btn.onClick:AddListener(function()
        -- CS.Net.NetHelper.GetInstance():Draw()
        CS.Global.Log("恢复默认设置")
    end)
end

function ConfirmBtn(this)
    local btn = this:GetComponent(typeof(CS.UnityEngine.UI.Button))
    btn.onClick:AddListener(function()
        CS.Global.NavigateTo("StartScene", false)
    end)
end

function SettingPage1(this)

end

function SettingPage2(this)

end

function SettingPage3(this)

end

--@this: [luaIde#CS.UnityEngine.GameObject]
function BGMPanel(this)
    --@RefType [luaIde#CS.Scene.SettingScene.VoicePanel]
    local voice = this:GetComponent(typeof(CS.Scene.SettingScene.VoicePanel))
    voice.slider.onValueChanged:AddListener(function(f)
        CS.Global.Log("BGM音量修改为"..f)
        voice.voice.text = string.match(tostring(f), "(%d+)")
    end)
    voice.checker.onValueChanged:AddListener(function(f)
        if f then
            CS.Global.Log("开启BGM")
        else
            CS.Global.Log("关闭BGM")
        end
    end)
end

function EffectPanel(this)
    --@RefType [luaIde#CS.Scene.SettingScene.VoicePanel]
    local voice = this:GetComponent(typeof(CS.Scene.SettingScene.VoicePanel))
    voice.slider.onValueChanged:AddListener(function(f)
        CS.Global.Log("音效音量修改为"..f)
        voice.voice.text = string.match(tostring(f), "(%d+)")
    end)
    voice.checker.onValueChanged:AddListener(function(f)
        if f then
            CS.Global.Log("开启音效")
        else
            CS.Global.Log("关闭音效")
        end
    end)    
end