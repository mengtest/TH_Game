---默认游戏玩法(战斗系统)的入口
---当前战斗系统中所有的数据保存，以及数据的更新都在这里
---@class DefaultGamePlay : IGamePlay
local DefaultGamePlay = util.class("DefaultGamePlay")

---构造函数
function DefaultGamePlay:ctor()
    --self:init()
end

---@return IUserInput
function DefaultGamePlay:getHandle()
    return self.impl.handle
end

---进入战斗系统的逻辑应该是
---玩家选择所有的卡牌之后，点击确认按钮，如果当前的卡牌满足要求，则会进入战斗系统，

---获取当前玩家的卡组列表
function DefaultGamePlay:getCurPawnList()
	
end

---现在的问题是客户端要如何存储玩家相关的数据，还是说就做成帧同步，然后从dll中获取数据？
---@param myCards number[]
function DefaultGamePlay:start(myCards)
    ---当前的房间号，未初始化时为-1
    self.combatId = -1
    ---当前玩家的id
    self.myId = 0
    ---敌方玩家的id，0表示未初始化，-1表示机器人
    self.tid = 0
    
    self.impl = require"scripts.userInput.init"
    self.impl.init(myCards)

    ---调用这个之后通知服务端，当前客户端已经加载完成，等待所有客户端加载完成
    ---当所有的客户端都加载完毕之后进入战斗场景
end

---@param this boolean 是否是当前玩家
---@return CombatPlayer
function DefaultGamePlay:getPlayer(this)
    
end

return DefaultGamePlay

-- ---@type GamePlay
-- GamePlay = GamePlay or require"gameplay.init"
-- GamePlay.reg("default", DefaultGamePlay)